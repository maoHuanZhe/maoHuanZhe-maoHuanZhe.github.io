在自由文本的世界里，匹配一个文档和一个查询是许多存储和搜索引擎所涉及的功能。使得Elasticsearch 查询和 `SELECT * FROM user WHERE name LIKE 'bob%'`查询不同的是为文档分配`相关性`得分的能力。从这个得分，可以得知文档和原始的查询有多么相关。

当用户在网站的搜索框里输人查询的时候，他们不仅仅希望找到和查询相匹配的结果，还希望这些结果是按照其和查询条件的相关度而进行排名的，事实证明，确定文档的相关性时，Elasticsearch 是相当灵活的，而且它还提供很多方法让你自定义搜素并获得更相关的结果。

当你并不是特别关心一个文档和查询的匹配程度有多好，而只是关心匹配或不匹配的时候，也不用烦恼。本章也会提供—些灵活的方式，来过滤文档。此外，理解字段数据的缓存也是很重要的，这是内存里的缓存，当按照这些字段值进行排序、脚本运行或者聚集的时候，Elasticsearch使用该缓存来存储索引中文档的字段值。

本章的开始将讨论 Elasticsearch 的打分机制。以及默认打分算法的替代方案。接下来是使用提升机制（boosting）来直接影响打分。然后探讨使用解释 API 接口来理解得分是如何计算的。之后，将涵盖如何使用查询再计分来减小原有打分机制的影响，使用功能打分查询来扩展查询，并使其具有对得分的终极控制权，以及使用脚本来自定义排序。最后将谈论内存中的字段数据缓存，它是如何影响用户的查询，以及被称为文档值的替代方案。
在谈及字段数据缓存之前，我们先来看看 Elastosearch 是如何为文档计算得分的。

