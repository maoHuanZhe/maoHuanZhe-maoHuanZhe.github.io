---
title: 搜索并获取数据
date: 2022-04-13 19:29:20
permalink: /pages/d79e67/
categories:
  - Elasticsearch
  - 深入功能
tags:
  - 
author: 
  name: 樊光瑞
  link: https://gitee.com/javaDaCaiNiao
---
```
GET /get-together/_search?q=elasticsearch&_source=name,location*&size=1
```
应得到如下输出
```
{
  "took" : 2,
  "timed_out" : false,
  "_shards" : {
    "total" : 2,
    "successful" : 2,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : {
      "value" : 10,
      "relation" : "eq"
    },
    "max_score" : 1.0238004,
    "hits" : [
      {
        "_index" : "get-together",
        "_id" : "2",
        "_score" : 1.0238004,
        "_source" : {
          "location_group" : "Denver, Colorado, USA",
          "name" : "Elasticsearch Denver"
        }
      }
    ]
  }
}
```
## 在哪里搜索
```
GET /get-together,new-index/_search
```

```
GET /_search
```
## 回复的内容
### 时间
### 分片
### 命中统计数据
### 结果文档
## 如何搜索
```
GET /get-together/_search
{
  "query": {
    "query_string": {
      "query": "elasticsearch"
    }
  }
}
```
### 设置查询的字符串选项
```
GET /get-together/_search
{
  "query": {
    "query_string": {
      "query": "elasticsearch san francisco",
      "default_field": "name",
      "default_operator": "AND"
    }
  }
}
```
```
GET /get-together/_search
{
  "query": {
    "query_string": {
      "query": "name:elasticsearch AND name:san AND name:francisco"
    }
  }
}
```
### 选择合适的查询类型
```
GET /get-together/_search
{
  "query": {
    "term": {
      "name": "elasticsearch"
    }
  }
}
```
### 使用过滤器
```
GET /get-together/_search
{
  "query": {
    "bool": {
     "filter":{
        "term": {
          "name": "elasticsearch"
        }
      } 
    }
  }
}
```
得分都是 0
### 应用聚集
```
GET /get-together/_search
{
  "aggs": {
    "organizers": {
      "terms": {
        "field": "tags.verbatim"
      }
    }
  }
}
```
## 通过 ID 获取